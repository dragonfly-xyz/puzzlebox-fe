import{S as x,i as ee,s as te,k as I,q as V,a as T,y as se,l as S,m as D,r as A,h as u,c as F,z as le,n as b,b as C,G as _,A as ie,g as ne,d as ae,B as re,I as H,o as oe,e as N,R as j,J as P,u as O,H as $,w as W}from"../chunks/index.99d7e0c0.js";import{b as ce,c as fe,d as ue,g as de,a as _e,f as G}from"../chunks/scrollIntoView.c364e11b.js";import{p as he}from"../chunks/stores.742ec894.js";import{M as me,c as ve}from"../chunks/stores.f06ce49e.js";function J(n,e,s){const i=n.slice();return i[14]=e[s],i[16]=s,i}function z(n,e,s){const i=n.slice();return i[17]=e[s],i[18]=e,i[16]=s,i}function pe(n){let e,s,i,l,r;return{c(){e=I("span"),s=V("live scores"),i=V(` |
            `),l=I("a"),r=V("contest scores"),this.h()},l(t){e=S(t,"SPAN",{class:!0});var a=D(e);s=A(a,"live scores"),a.forEach(u),i=A(t,` |
            `),l=S(t,"A",{href:!0,class:!0});var c=D(l);r=A(c,"contest scores"),c.forEach(u),this.h()},h(){b(e,"class","svelte-10igi5m"),b(l,"href","?contest"),b(l,"class","svelte-10igi5m")},m(t,a){C(t,e,a),_(e,s),C(t,i,a),C(t,l,a),_(l,r)},d(t){t&&u(e),t&&u(i),t&&u(l)}}}function ge(n){let e,s,i,l,r;return{c(){e=I("a"),s=V("live scores"),i=V(` |
            `),l=I("span"),r=V("contest scores"),this.h()},l(t){e=S(t,"A",{href:!0,class:!0});var a=D(e);s=A(a,"live scores"),a.forEach(u),i=A(t,` |
            `),l=S(t,"SPAN",{class:!0});var c=D(l);r=A(c,"contest scores"),c.forEach(u),this.h()},h(){b(e,"href","?live"),b(e,"class","svelte-10igi5m"),b(l,"class","svelte-10igi5m")},m(t,a){C(t,e,a),_(e,s),C(t,i,a),C(t,l,a),_(l,r)},d(t){t&&u(e),t&&u(i),t&&u(l)}}}function be(n){let e,s;return{c(){e=I("div"),s=V("Loading scores..."),this.h()},l(i){e=S(i,"DIV",{class:!0});var l=D(e);s=A(l,"Loading scores..."),l.forEach(u),this.h()},h(){b(e,"class","loading svelte-10igi5m")},m(i,l){C(i,e,l),_(e,s)},p:$,d(i){i&&u(e)}}}function ke(n){let e,s,i,l,r,t,a,c,m=[...new Array(18)],o=[];for(let p=0;p<m.length;p+=1)o[p]=K(z(n,m,p));return{c(){e=I("div"),s=I("div");for(let p=0;p<o.length;p+=1)o[p].c();i=T(),l=I("div"),r=V("Thanks for playing! Wanna "),t=I("a"),a=V("try again"),c=V("?"),this.h()},l(p){e=S(p,"DIV",{class:!0});var y=D(e);s=S(y,"DIV",{class:!0});var d=D(s);for(let g=0;g<o.length;g+=1)o[g].l(d);d.forEach(u),i=F(y),l=S(y,"DIV",{class:!0});var w=D(l);r=A(w,"Thanks for playing! Wanna "),t=S(w,"A",{href:!0,class:!0});var M=D(t);a=A(M,"try again"),M.forEach(u),c=A(w,"?"),w.forEach(u),y.forEach(u),this.h()},h(){b(s,"class","emojifettis svelte-10igi5m"),b(t,"href","/"),b(t,"class","svelte-10igi5m"),b(l,"class","svelte-10igi5m"),b(e,"class","thanks svelte-10igi5m")},m(p,y){C(p,e,y),_(e,s);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(s,null);_(e,i),_(e,l),_(l,r),_(l,t),_(t,a),_(l,c)},p(p,y){if(y&144){m=[...new Array(18)];let d;for(d=0;d<m.length;d+=1){const w=z(p,m,d);o[d]?o[d].p(w,y):(o[d]=K(w),o[d].c(),o[d].m(s,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=m.length}},d(p){p&&u(e),j(o,p)}}}function K(n){let e,s=n[7][Math.floor(Math.random()*n[7].length)]+"",i,l=n[16];const r=()=>n[12](e,l),t=()=>n[12](null,l);return{c(){e=I("span"),i=V(s),this.h()},l(a){e=S(a,"SPAN",{class:!0});var c=D(e);i=A(c,s),c.forEach(u),this.h()},h(){b(e,"class","svelte-10igi5m")},m(a,c){C(a,e,c),_(e,i),r()},p(a,c){n=a,l!==n[16]&&(t(),l=n[16],r())},d(a){a&&u(e),t()}}}function X(n){let e,s=n[1],i=[];for(let l=0;l<s.length;l+=1)i[l]=Q(J(n,s,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=N()},l(l){for(let r=0;r<i.length;r+=1)i[r].l(l);e=N()},m(l,r){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(l,r);C(l,e,r)},p(l,r){if(r&74){s=l[1];let t;for(t=0;t<s.length;t+=1){const a=J(l,s,t);i[t]?i[t].p(a,r):(i[t]=Q(a),i[t].c(),i[t].m(e.parentNode,e))}for(;t<i.length;t+=1)i[t].d(1);i.length=s.length}},d(l){j(i,l),l&&u(e)}}}function Y(n){let e;function s(r,t){return r[14].isWinner?Ie:r[14].firstUnlocked?Ee:ye}let i=s(n),l=i(n);return{c(){l.c(),e=N()},l(r){l.l(r),e=N()},m(r,t){l.m(r,t),C(r,e,t)},p(r,t){i!==(i=s(r))&&(l.d(1),l=i(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){l.d(r),r&&u(e)}}}function ye(n){let e;return{c(){e=V("🏅")},l(s){e=A(s,"🏅")},m(s,i){C(s,e,i)},d(s){s&&u(e)}}}function Ee(n){let e;return{c(){e=V("🎖️")},l(s){e=A(s,"🎖️")},m(s,i){C(s,e,i)},d(s){s&&u(e)}}}function Ie(n){let e;return{c(){e=V("🏆")},l(s){e=A(s,"🏆")},m(s,i){C(s,e,i)},d(s){s&&u(e)}}}function Q(n){let e,s,i=n[14].rank+"",l,r,t,a,c,m,o,p=n[14].name+"",y,d,w,M,g=G(n[14].score)+"",h,v,f=n[14].isContestant&&Y(n);return{c(){e=I("div"),s=I("div"),l=V(i),r=V("."),t=T(),a=I("div"),f&&f.c(),c=T(),m=I("div"),o=I("a"),y=V(p),w=T(),M=I("div"),h=V(g),v=T(),this.h()},l(k){e=S(k,"DIV",{class:!0});var E=D(e);s=S(E,"DIV",{class:!0});var R=D(s);l=A(R,i),r=A(R,"."),R.forEach(u),t=F(E),a=S(E,"DIV",{class:!0});var L=D(a);f&&f.l(L),L.forEach(u),c=F(E),m=S(E,"DIV",{class:!0});var U=D(m);o=S(U,"A",{href:!0,target:!0,class:!0});var q=D(o);y=A(q,p),q.forEach(u),U.forEach(u),w=F(E),M=S(E,"DIV",{class:!0});var B=D(M);h=A(B,g),B.forEach(u),v=F(E),E.forEach(u),this.h()},h(){b(s,"class","rank svelte-10igi5m"),b(a,"class","badge svelte-10igi5m"),P(a,"hidden",!n[6]),b(o,"href",d=n[14].profile),b(o,"target","_blank"),b(o,"class","svelte-10igi5m"),b(m,"class","name svelte-10igi5m"),b(M,"class","score svelte-10igi5m"),b(e,"class","entry svelte-10igi5m"),P(e,"odd",!!(n[16]%2)),P(e,"unlocked",n[14].unlocked),P(e,"submitter",n[3]&&n[3].rank===n[14].rank)},m(k,E){C(k,e,E),_(e,s),_(s,l),_(s,r),_(e,t),_(e,a),f&&f.m(a,null),_(e,c),_(e,m),_(m,o),_(o,y),_(e,w),_(e,M),_(M,h),_(e,v)},p(k,E){E&2&&i!==(i=k[14].rank+"")&&O(l,i),k[14].isContestant?f?f.p(k,E):(f=Y(k),f.c(),f.m(a,null)):f&&(f.d(1),f=null),E&64&&P(a,"hidden",!k[6]),E&2&&p!==(p=k[14].name+"")&&O(y,p),E&2&&d!==(d=k[14].profile)&&b(o,"href",d),E&2&&g!==(g=G(k[14].score)+"")&&O(h,g),E&2&&P(e,"unlocked",k[14].unlocked),E&10&&P(e,"submitter",k[3]&&k[3].rank===k[14].rank)},d(k){k&&u(e),f&&f.d()}}}function Se(n){let e,s,i,l,r,t;return{c(){e=I("div"),s=I("div"),i=V("submitting your score..."),l=T(),r=I("div"),t=V("."),this.h()},l(a){e=S(a,"DIV",{class:!0});var c=D(e);s=S(c,"DIV",{class:!0});var m=D(s);i=A(m,"submitting your score..."),m.forEach(u),l=F(c),r=S(c,"DIV",{class:!0});var o=D(r);t=A(o,"."),o.forEach(u),c.forEach(u),this.h()},h(){b(s,"class","message svelte-10igi5m"),b(r,"class","spinner svelte-10igi5m"),b(e,"class","submit-popup svelte-10igi5m")},m(a,c){C(a,e,c),_(e,s),_(s,i),_(e,l),_(e,r),_(r,t)},p:$,d(a){a&&u(e)}}}function De(n){let e,s,i,l,r,t,a,c,m,o;function p(v,f){return v[5]?ge:pe}let y=p(n),d=y(n);function w(v,f){if(v[3])return ke;if(!v[1])return be}let M=w(n),g=M&&M(n),h=n[1]&&X(n);return m=new me({props:{show:!!n[2],captive:!0,$$slots:{default:[Se]},$$scope:{ctx:n}}}),{c(){e=I("div"),s=I("div"),i=V("HI SCORES"),l=T(),r=I("div"),d.c(),t=T(),g&&g.c(),a=T(),h&&h.c(),c=T(),se(m.$$.fragment),this.h()},l(v){e=S(v,"DIV",{class:!0});var f=D(e);s=S(f,"DIV",{class:!0});var k=D(s);i=A(k,"HI SCORES"),k.forEach(u),l=F(f),r=S(f,"DIV",{class:!0});var E=D(r);d.l(E),E.forEach(u),t=F(f),g&&g.l(f),a=F(f),h&&h.l(f),c=F(f),le(m.$$.fragment,f),f.forEach(u),this.h()},h(){b(s,"class","header svelte-10igi5m"),b(r,"class","alternate-scores svelte-10igi5m"),b(e,"class","component svelte-10igi5m")},m(v,f){C(v,e,f),_(e,s),_(s,i),_(e,l),_(e,r),d.m(r,null),_(e,t),g&&g.m(e,null),_(e,a),h&&h.m(e,null),_(e,c),ie(m,e,null),n[13](e),o=!0},p(v,[f]){y!==(y=p(v))&&(d.d(1),d=y(v),d&&(d.c(),d.m(r,null))),M===(M=w(v))&&g?g.p(v,f):(g&&g.d(1),g=M&&M(v),g&&(g.c(),g.m(e,a))),v[1]?h?h.p(v,f):(h=X(v),h.c(),h.m(e,c)):h&&(h.d(1),h=null);const k={};f&4&&(k.show=!!v[2]),f&524288&&(k.$$scope={dirty:f,ctx:v}),m.$set(k)},i(v){o||(ne(m.$$.fragment,v),o=!0)},o(v){ae(m.$$.fragment,v),o=!1},d(v){v&&u(e),d.d(),g&&g.d(),h&&h.d(),re(m),n[13](null)}}}const Ve=[0,5];function Ae(n){for(const t of n)t.style.display="inline",t.style.position="auto";const e=n.map(t=>t.getBoundingClientRect());for(let t=0;t<e.length;++t){const a=n[t],{x:c,y:m}=e[t];a.style.position="fixed",a.style.left=`${c}px`,a.style.top=`${m}px`}const s=Date.now()+5e3,i=n.map(t=>[(Math.random()-.5)*25,Math.random()*-40]),l=n.map(t=>[0,0]),r=setInterval(()=>{for(let t=0;t<n.length;++t){for(let a=0;a<2;++a)i[t][a]=i[t][a]+Ve[a],l[t][a]=l[t][a]+i[t][a];n[t].style.transform=`translate3d(${l[t][0]}px, ${l[t][1]}px, 0)`}if(Date.now()>=s){for(const t of n)t.style.display="none";clearInterval(r)}},60);return r}const Z=500;function we(n,e,s){let i,l;H(n,he,h=>s(10,i=h)),H(n,ve,h=>s(11,l=h));const r=["🎊","✨","🎉","🏆","🎈","🎖️"];let t,a,c,m,o,p=[],y,d=!1,w;oe(()=>{const v=i.url.searchParams.get("code");s(8,m=i.url.searchParams.get("state"));const f=m?ce(m):null;v&&m&&f&&s(2,c={authCode:v,...f})});function M(h,v){W[h?"unshift":"push"](()=>{p[v]=h,s(4,p)})}function g(h){W[h?"unshift":"push"](()=>{t=h,s(0,t)})}return n.$$.update=()=>{n.$$.dirty&2048&&s(6,d=l<0),n.$$.dirty&260&&(async()=>c&&(s(3,o=await fe(c)),ue(m),s(2,c=void 0)))(),n.$$.dirty&1024&&s(5,w=i.url.searchParams.get("contest")!==null),n.$$.dirty&44&&(async()=>{if(!c){let h=0;o&&(h=Math.max(Math.floor(o.rank-1-Z/2),0)),s(1,a=await de(h,Z,w))}})(),n.$$.dirty&528&&p.length&&(y&&clearInterval(y),s(9,y=Ae(p))),n.$$.dirty&11&&a&&o&&setTimeout(()=>_e(t.querySelector(".entry.submitter"),{behavior:"smooth",block:"start",inline:"center"},{duration:500}),100)},[t,a,c,o,p,w,d,r,m,y,i,l,M,g]}class Pe extends x{constructor(e){super(),ee(this,e,we,De,te,{})}}export{Pe as default};
