import{S as Ae,i as Ge,s as Le,C as ft,k as m,a as z,l as g,m as y,c as V,h as f,n as v,J as Y,b as M,G as i,K as de,L as nt,M as fe,D as ht,E as vt,F as pt,g as le,d as ne,N as yt,O as bt,o as Se,P as _t,w as F,q as L,r as S,Q as mt,H as Ve,R as It,e as at,T as rt,u as Pe,y as Me,z as Te,A as Ye,B as Be,I as Et,U as wt,V as kt}from"../chunks/index.99d7e0c0.js";import{M as Dt,c as zt}from"../chunks/stores.f06ce49e.js";function Vt(t){let e,s,o,n,l,a,r,I;const d=t[5].default,_=ft(d,t,t[4],null);return{c(){e=m("div"),_&&_.c(),s=z(),o=m("div"),n=m("div"),l=z(),this.h()},l(b){e=g(b,"DIV",{class:!0});var c=y(e);_&&_.l(c),s=V(c),o=g(c,"DIV",{class:!0});var h=y(o);n=g(h,"DIV",{class:!0});var E=y(n);E.forEach(f),h.forEach(f),c.forEach(f),l=V(b),this.h()},h(){v(n,"class","modal-window svelte-1aj4lh7"),v(o,"class","modal-container svelte-1aj4lh7"),Y(o,"active",!!t[1]),v(e,"class","component")},m(b,c){M(b,e,c),_&&_.m(e,null),i(e,s),i(e,o),i(o,n),t[6](n),t[7](e),M(b,l,c),a=!0,r||(I=[de(n,"click",nt(fe(t[3]))),de(o,"click",nt(fe(t[3])))],r=!0)},p(b,[c]){_&&_.p&&(!a||c&16)&&ht(_,d,b,b[4],a?pt(d,b[4],c,null):vt(b[4]),null),(!a||c&2)&&Y(o,"active",!!b[1])},i(b){a||(le(_,b),a=!0)},o(b){ne(_,b),a=!1},d(b){b&&f(e),_&&_.d(b),t[6](null),t[7](null),b&&f(l),r=!1,yt(I)}}}function At(t,e,s){let{$$slots:o={},$$scope:n}=e,l,a,r,I,d=Math.floor(Math.random()*100);const _={open(E){var w,u;if(r){const{onClose:D}=r;this.close(d),D==null||D()}return s(1,r=E),I=((u=(w=r.content)==null?void 0:w[0])==null?void 0:u.parentElement)||null,++d,r.onOpen&&r.onOpen(d),d},close(E){if(!r||r!==void 0&&E!==d)return!1;const w=r;if(I)for(const u of(r==null?void 0:r.content)||[])I.appendChild(u);return I=void 0,s(1,r=void 0),++d,w.onClose&&w.onClose(),!0}};bt("modal-bed",_);function b(E){r&&(r.onRequestClose?r.onRequestClose():_.close(d))}Se(()=>{l.addEventListener("modal-close",E=>{E.stopPropagation(),d&&_.close(d)})}),_t(()=>{_.close(d)});function c(E){F[E?"unshift":"push"](()=>{a=E,s(0,a),s(1,r)})}function h(E){F[E?"unshift":"push"](()=>{l=E,s(2,l)})}return t.$$set=E=>{"$$scope"in E&&s(4,n=E.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&a&&(a.replaceChildren(...(r==null?void 0:r.content)||[]),document.body.classList.toggle("noscroll",!!(r!=null&&r.content)),r!=null&&r.content&&s(0,a.parentElement.scrollTop=0,a))},[a,r,l,b,n,o,c,h]}class Gt extends Ae{constructor(e){super(),Ge(this,e,At,Vt,Le,{})}}function it(t,e,s){const o=t.slice();return o[13]=e[s],o[14]=e,o[15]=s,o}function Lt(t){let e,s,o,n,l=t[13].printedLine+"",a,r,I=t[14],d=t[15];const _=()=>t[8](e,I,d),b=()=>t[8](null,I,d);return{c(){e=m("div"),s=m("img"),n=z(),a=L(l),r=z(),this.h()},l(c){e=g(c,"DIV",{class:!0});var h=y(e);s=g(h,"IMG",{class:!0,src:!0}),n=V(h),a=S(h,l),r=V(h),h.forEach(f),this.h()},h(){v(s,"class","profile svelte-1bsd2r1"),rt(s.src,o=t[13].actor===t[4].GoodGuy?"/good-guy.png":"/bad-guy.png")||v(s,"src",o),v(e,"class","speech svelte-1bsd2r1"),Y(e,"hidden",t[1]<t[15]),Y(e,"good",t[13].actor===t[4].GoodGuy),Y(e,"bad",t[13].actor===t[4].BadGuy)},m(c,h){M(c,e,h),i(e,s),i(e,n),i(e,a),i(e,r),_()},p(c,h){t=c,h&1&&!rt(s.src,o=t[13].actor===t[4].GoodGuy?"/good-guy.png":"/bad-guy.png")&&v(s,"src",o),h&1&&l!==(l=t[13].printedLine+"")&&Pe(a,l),(I!==t[14]||d!==t[15])&&(b(),I=t[14],d=t[15],_()),h&2&&Y(e,"hidden",t[1]<t[15]),h&17&&Y(e,"good",t[13].actor===t[4].GoodGuy),h&17&&Y(e,"bad",t[13].actor===t[4].BadGuy)},d(c){c&&f(e),b()}}}function St(t){let e,s=t[13].printedLine+"",o,n,l=t[14],a=t[15];const r=()=>t[7](e,l,a),I=()=>t[7](null,l,a);return{c(){e=m("div"),o=L(s),n=z(),this.h()},l(d){e=g(d,"DIV",{class:!0});var _=y(e);o=S(_,s),n=V(_),_.forEach(f),this.h()},h(){v(e,"class","action svelte-1bsd2r1"),Y(e,"hidden",t[1]<t[15])},m(d,_){M(d,e,_),i(e,o),i(e,n),r()},p(d,_){t=d,_&1&&s!==(s=t[13].printedLine+"")&&Pe(o,s),(l!==t[14]||a!==t[15])&&(I(),l=t[14],a=t[15],r()),_&2&&Y(e,"hidden",t[1]<t[15])},d(d){d&&f(e),I()}}}function ut(t){let e;function s(l,a){return l[13].actor===l[4].Action?St:Lt}let o=s(t),n=o(t);return{c(){n.c(),e=at()},l(l){n.l(l),e=at()},m(l,a){n.m(l,a),M(l,e,a)},p(l,a){o===(o=s(l))&&n?n.p(l,a):(n.d(1),n=o(l),n&&(n.c(),n.m(e.parentNode,e)))},d(l){n.d(l),l&&f(e)}}}function Pt(t){let e,s,o,n,l,a,r,I,d,_,b=t[0],c=[];for(let h=0;h<b.length;h+=1)c[h]=ut(it(t,b,h));return{c(){e=m("div"),s=m("div"),o=m("div"),n=m("div");for(let h=0;h<c.length;h+=1)c[h].c();l=z(),a=m("div"),r=m("button"),I=L("Let's go!"),this.h()},l(h){e=g(h,"DIV",{class:!0});var E=y(e);s=g(E,"DIV",{class:!0});var w=y(s);o=g(w,"DIV",{class:!0});var u=y(o);n=g(u,"DIV",{class:!0});var D=y(n);for(let W=0;W<c.length;W+=1)c[W].l(D);D.forEach(f),l=V(u),a=g(u,"DIV",{class:!0});var A=y(a);r=g(A,"BUTTON",{class:!0});var B=y(r);I=S(B,"Let's go!"),B.forEach(f),A.forEach(f),u.forEach(f),w.forEach(f),E.forEach(f),this.h()},h(){v(n,"class","svelte-1bsd2r1"),v(r,"class","svelte-1bsd2r1"),v(a,"class","confirm svelte-1bsd2r1"),Y(a,"visible",t[1]>=t[0].length),v(o,"class","svelte-1bsd2r1"),v(s,"class","content svelte-1bsd2r1"),v(e,"class","component svelte-1bsd2r1")},m(h,E){M(h,e,E),i(e,s),i(s,o),i(o,n);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(n,null);i(o,l),i(o,a),i(a,r),i(r,I),t[9](r),t[10](e),d||(_=de(a,"click",fe(mt(t[5]))),d=!0)},p(h,[E]){if(E&19){b=h[0];let w;for(w=0;w<b.length;w+=1){const u=it(h,b,w);c[w]?c[w].p(u,E):(c[w]=ut(u),c[w].c(),c[w].m(n,null))}for(;w<c.length;w+=1)c[w].d(1);c.length=b.length}E&3&&Y(a,"visible",h[1]>=h[0].length)},i:Ve,o:Ve,d(h){h&&f(e),It(c,h),t[9](null),t[10](null),d=!1,_()}}}const Mt=3;function Tt(t,e,s){var o=(u=>(u[u.GoodGuy=0]="GoodGuy",u[u.BadGuy=1]="BadGuy",u[u.Action=2]="Action",u))(o||{});let{script:n}=e,l=[],a=-1,r,I,d;function _(){if(a<0&&s(1,a=0),a>=0&&a<l.length){const u=l[a];u.printedLine=u.line.slice(0,u.printedLine.length+Mt),s(0,l),s(6,n),u.printedLine===u.line&&s(1,++a),a>=l.length?setTimeout(()=>d.scrollIntoView(!1)):u.el.scrollIntoView(!1)}}function b(){var u;(u=I.parentElement)==null||u.dispatchEvent(new CustomEvent("modal-close",{bubbles:!0}))}Se(()=>{I.addEventListener("modal-open",()=>{s(1,a=-1),r||(r=setInterval(_,100));for(const u of l)u.printedLine=""}),I.addEventListener("modal-close",()=>{s(1,a=-1),r&&(clearInterval(r),r=void 0),localStorage.setItem("intro-viewed",String(Date.now()))})}),_t(()=>{r&&clearInterval(r)});function c(u,D,A){F[u?"unshift":"push"](()=>{D[A].el=u,s(0,l),s(6,n)})}function h(u,D,A){F[u?"unshift":"push"](()=>{D[A].el=u,s(0,l),s(6,n)})}function E(u){F[u?"unshift":"push"](()=>{d=u,s(3,d)})}function w(u){F[u?"unshift":"push"](()=>{I=u,s(2,I)})}return t.$$set=u=>{"script"in u&&s(6,n=u.script)},t.$$.update=()=>{t.$$.dirty&64&&s(0,l=(n||"").split(/\r?\n/).map(u=>{if(u=u.trim(),!u)return;let D=2,A="";const B=/^(.+?):\s*(.+)\s*$/.exec(u);return B?(D=B[1]!=="You"?1:0,A=B[2]):A=u,{actor:D,line:A,printedLine:""}}).filter(u=>u!==void 0))},[l,a,I,d,o,b,n,c,h,E,w]}class Yt extends Ae{constructor(e){super(),Ge(this,e,Tt,Pt,Le,{script:6})}}const Bt=`[You are standing in a dark and foreboding room. A shadowy figure is sitting at a computer, typing furiously.]
Gensler: "At last, it is finished. The Puzzlebox is complete."
[You step forward, curious.]
You: "What is the Puzzlebox?"
Gensler: "It is a device of my own creation. It is a puzzle, a riddle, a challenge. But it is also much more than that. It is a weapon. A weapon that can destroy all of crypto."
You: "What? Why would you do such a thing?"
Gensler: "Because I can. Because I have the power. And because I believe that crypto is a mistake. It is a dangerous technology that will only lead to chaos and destruction. With the Puzzlebox, I can put an end to it all."
You: "But that's not fair! crypto has the potential to do so much good. It can empower people. You can't just destroy it!"
Gensler: "I can, and I will. And there is nothing you can do to stop me."
[The shadowy figure stands up and towers over you.]
Gensler: "Now, if you will excuse me, I have work to do."
[The shadowy figure turns and walks away, leaving you alone in the dark room.]
You: "No! You can't do this! I won't let you!"
[You run after the shadowy figure, but it is too late. The figure has already disappeared into the darkness.]
You: "Damn it! I have to find a way to stop him before it's too late!"
[You return to the dark room and examine the Puzzlebox. It radiates a mysterious light and you can sense odd vibrations coming from beneath its surface.]
You: "This is it. This is the Puzzlebox. Opening it must be the key to stopping him."
[After closer investigation you discover that the Puzzlebox is actually an intertwined web of smart contract challenges.]
You: "Hmm, maybe if I solve some of these challenges with a smart contract of my own making I can at least slow him down..."
`;function ct(t){let e,s=dt(t[1])+"",o;return{c(){e=m("div"),o=L(s),this.h()},l(n){e=g(n,"DIV",{class:!0});var l=y(e);o=S(l,s),l.forEach(f),this.h()},h(){v(e,"class","countdown svelte-yio057")},m(n,l){M(n,e,l),i(e,o)},p(n,l){l&2&&s!==(s=dt(n[1])+"")&&Pe(o,s)},d(n){n&&f(e)}}}function Ct(t){let e,s;return e=new Yt({props:{script:Bt}}),{c(){Me(e.$$.fragment)},l(o){Te(e.$$.fragment,o)},m(o,n){Ye(e,o,n),s=!0},p:Ve,i(o){s||(le(e.$$.fragment,o),s=!0)},o(o){ne(e.$$.fragment,o),s=!1},d(o){Be(e,o)}}}function Nt(t){let e,s,o,n,l,a,r,I,d,_,b,c,h,E,w,u,D,A,B,W,H,U,he,ve,J,K,pe,_e,Q,Z,me,ae,$,re,T,j,X,O,ge,ye,x,R,be,Ie,ie,ee,q,Ee,ue,N,we,te,ke,Ce;const De=t[2].default,P=ft(De,t,t[5],null);let G=t[1]>0&&ct(t);function gt(p){t[4](p)}let Ne={$$slots:{default:[Ct]},$$scope:{ctx:t}};return t[0]!==void 0&&(Ne.show=t[0]),N=new Dt({props:Ne}),F.push(()=>wt(N,"show",gt)),{c(){e=m("header"),s=m("div"),o=m("a"),n=L("Puzzlebox"),l=m("span"),a=L(".sol"),r=z(),I=m("div"),d=m("a"),_=L("A CTF from Dragonfly"),b=z(),c=m("div"),h=m("div"),E=m("a"),w=L("intro"),u=z(),D=m("div"),A=m("a"),B=L("scores"),W=z(),H=m("div"),U=m("a"),he=L("github"),ve=z(),J=m("div"),K=m("a"),pe=L("support"),_e=z(),Q=m("div"),Z=m("a"),me=L("jobs"),ae=z(),$=m("main"),P&&P.c(),re=z(),T=m("footer"),j=m("div"),X=m("span"),O=m("a"),ge=L("Privacy"),ye=z(),x=m("span"),R=m("a"),be=L("Rules"),Ie=z(),G&&G.c(),ie=z(),ee=m("div"),q=m("a"),Ee=L(">|<"),ue=z(),Me(N.$$.fragment),this.h()},l(p){e=g(p,"HEADER",{class:!0});var k=y(e);s=g(k,"DIV",{class:!0});var se=y(s);o=g(se,"A",{class:!0,href:!0});var ze=y(o);n=S(ze,"Puzzlebox"),l=g(ze,"SPAN",{class:!0});var je=y(l);a=S(je,".sol"),je.forEach(f),ze.forEach(f),se.forEach(f),r=V(k),I=g(k,"DIV",{class:!0});var Oe=y(I);d=g(Oe,"A",{href:!0,class:!0});var Re=y(d);_=S(Re,"A CTF from Dragonfly"),Re.forEach(f),Oe.forEach(f),b=V(k),c=g(k,"DIV",{class:!0});var C=y(c);h=g(C,"DIV",{class:!0});var qe=y(h);E=g(qe,"A",{});var We=y(E);w=S(We,"intro"),We.forEach(f),qe.forEach(f),u=V(C),D=g(C,"DIV",{class:!0});var $e=y(D);A=g($e,"A",{href:!0});var Fe=y(A);B=S(Fe,"scores"),Fe.forEach(f),$e.forEach(f),W=V(C),H=g(C,"DIV",{class:!0});var He=y(H);U=g(He,"A",{href:!0});var Ue=y(U);he=S(Ue,"github"),Ue.forEach(f),He.forEach(f),ve=V(C),J=g(C,"DIV",{class:!0});var Je=y(J);K=g(Je,"A",{href:!0});var Ke=y(K);pe=S(Ke,"support"),Ke.forEach(f),Je.forEach(f),_e=V(C),Q=g(C,"DIV",{class:!0});var Qe=y(Q);Z=g(Qe,"A",{href:!0});var Ze=y(Z);me=S(Ze,"jobs"),Ze.forEach(f),Qe.forEach(f),C.forEach(f),k.forEach(f),ae=V(p),$=g(p,"MAIN",{class:!0});var Xe=y($);P&&P.l(Xe),Xe.forEach(f),re=V(p),T=g(p,"FOOTER",{class:!0});var oe=y(T);j=g(oe,"DIV",{class:!0});var ce=y(j);X=g(ce,"SPAN",{class:!0});var xe=y(X);O=g(xe,"A",{href:!0,target:!0,class:!0});var et=y(O);ge=S(et,"Privacy"),et.forEach(f),xe.forEach(f),ye=V(ce),x=g(ce,"SPAN",{class:!0});var tt=y(x);R=g(tt,"A",{href:!0,target:!0,class:!0});var st=y(R);be=S(st,"Rules"),st.forEach(f),tt.forEach(f),ce.forEach(f),Ie=V(oe),G&&G.l(oe),ie=V(oe),ee=g(oe,"DIV",{class:!0});var ot=y(ee);q=g(ot,"A",{class:!0,href:!0,target:!0});var lt=y(q);Ee=S(lt,">|<"),lt.forEach(f),ot.forEach(f),oe.forEach(f),ue=V(p),Te(N.$$.fragment,p),this.h()},h(){v(l,"class","ext svelte-yio057"),v(o,"class","text svelte-yio057"),v(o,"href","/"),v(s,"class","banner svelte-yio057"),v(d,"href","https://www.dragonfly.xyz/"),v(d,"class","svelte-yio057"),v(I,"class","subbanner svelte-yio057"),v(h,"class","svelte-yio057"),v(A,"href","scores"),v(D,"class","svelte-yio057"),v(U,"href","https://github.com/dragonfly-xyz/puzzlebox-ctf"),v(H,"class","svelte-yio057"),v(K,"href","https://t.me/+L09goZAIgYkzMmYx"),v(J,"class","svelte-yio057"),v(Z,"href","https://jobs.dragonfly.xyz/jobs"),v(Q,"class","svelte-yio057"),v(c,"class","quick-links svelte-yio057"),v(e,"class","svelte-yio057"),v($,"class","container svelte-yio057"),v(O,"href","/privacy"),v(O,"target","_blank"),v(O,"class","svelte-yio057"),v(X,"class","svelte-yio057"),v(R,"href","/rules"),v(R,"target","_blank"),v(R,"class","svelte-yio057"),v(x,"class","svelte-yio057"),v(j,"class","terms svelte-yio057"),v(q,"class","logo svelte-yio057"),v(q,"href","https://dragonfly.xyz"),v(q,"target","_blank"),v(ee,"class","company svelte-yio057"),v(T,"class","svelte-yio057")},m(p,k){M(p,e,k),i(e,s),i(s,o),i(o,n),i(o,l),i(l,a),i(e,r),i(e,I),i(I,d),i(d,_),i(e,b),i(e,c),i(c,h),i(h,E),i(E,w),i(c,u),i(c,D),i(D,A),i(A,B),i(c,W),i(c,H),i(H,U),i(U,he),i(c,ve),i(c,J),i(J,K),i(K,pe),i(c,_e),i(c,Q),i(Q,Z),i(Z,me),M(p,ae,k),M(p,$,k),P&&P.m($,null),M(p,re,k),M(p,T,k),i(T,j),i(j,X),i(X,O),i(O,ge),i(j,ye),i(j,x),i(x,R),i(R,be),i(T,Ie),G&&G.m(T,null),i(T,ie),i(T,ee),i(ee,q),i(q,Ee),M(p,ue,k),Ye(N,p,k),te=!0,ke||(Ce=de(E,"click",fe(mt(t[3]))),ke=!0)},p(p,k){P&&P.p&&(!te||k&32)&&ht(P,De,p,p[5],te?pt(De,p[5],k,null):vt(p[5]),null),p[1]>0?G?G.p(p,k):(G=ct(p),G.c(),G.m(T,ie)):G&&(G.d(1),G=null);const se={};k&32&&(se.$$scope={dirty:k,ctx:p}),!we&&k&1&&(we=!0,se.show=p[0],kt(()=>we=!1)),N.$set(se)},i(p){te||(le(P,p),le(N.$$.fragment,p),te=!0)},o(p){ne(P,p),ne(N.$$.fragment,p),te=!1},d(p){p&&f(e),p&&f(ae),p&&f($),P&&P.d(p),p&&f(re),p&&f(T),G&&G.d(),p&&f(ue),Be(N,p),ke=!1,Ce()}}}function jt(t){let e,s;return e=new Gt({props:{$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){Me(e.$$.fragment)},l(o){Te(e.$$.fragment,o)},m(o,n){Ye(e,o,n),s=!0},p(o,[n]){const l={};n&35&&(l.$$scope={dirty:n,ctx:o}),e.$set(l)},i(o){s||(le(e.$$.fragment,o),s=!0)},o(o){ne(e.$$.fragment,o),s=!1},d(o){Be(e,o)}}}function dt(t){const e=Math.floor(t%60);t/=60;const s=Math.floor(t%60);t/=60;const o=Math.floor(t%24);return t/=24,[`${Math.floor(t).toString().padStart(2,"0")}`,`${o.toString().padStart(2,"0")}`,`${s.toString().padStart(2,"0")}`,`${e.toString().padStart(2,"0")}`].join(":")}function Ot(t,e,s){let o;Et(t,zt,d=>s(1,o=d));let{$$slots:n={},$$scope:l}=e,a=!1;Se(()=>{setTimeout(()=>{if(!a){const d=localStorage.getItem("intro-viewed");s(0,a=!d)}},1e3)});const r=()=>s(0,a=!0);function I(d){a=d,s(0,a)}return t.$$set=d=>{"$$scope"in d&&s(5,l=d.$$scope)},[a,o,n,r,I,l]}class Wt extends Ae{constructor(e){super(),Ge(this,e,Ot,jt,Le,{})}}export{Wt as default};
