import{S as Ge,i as Le,s as Se,C as ht,k as m,a as z,l as g,m as y,c as V,h as d,n as p,J as Y,b as M,G as i,K as de,L as at,M as he,D as pt,E as vt,F as _t,g as ne,d as ae,N as bt,O as It,o as Pe,P as mt,w as F,q as L,r as S,Q as gt,H as Ae,R as Et,e as rt,T as it,u as Me,y as Te,z as Ye,A as Be,B as Ce,I as wt,U as kt,V as Dt}from"../chunks/index.99d7e0c0.js";import{b as H}from"../chunks/paths.33f6cd6a.js";import{M as zt,c as Vt}from"../chunks/stores.735a3c4e.js";function At(t){let e,s,o,n,l,a,r,I;const f=t[5].default,_=ht(f,t,t[4],null);return{c(){e=m("div"),_&&_.c(),s=z(),o=m("div"),n=m("div"),l=z(),this.h()},l(b){e=g(b,"DIV",{class:!0});var c=y(e);_&&_.l(c),s=V(c),o=g(c,"DIV",{class:!0});var h=y(o);n=g(h,"DIV",{class:!0});var E=y(n);E.forEach(d),h.forEach(d),c.forEach(d),l=V(b),this.h()},h(){p(n,"class","modal-window svelte-1aj4lh7"),p(o,"class","modal-container svelte-1aj4lh7"),Y(o,"active",!!t[1]),p(e,"class","component")},m(b,c){M(b,e,c),_&&_.m(e,null),i(e,s),i(e,o),i(o,n),t[6](n),t[7](e),M(b,l,c),a=!0,r||(I=[de(n,"click",at(he(t[3]))),de(o,"click",at(he(t[3])))],r=!0)},p(b,[c]){_&&_.p&&(!a||c&16)&&pt(_,f,b,b[4],a?_t(f,b[4],c,null):vt(b[4]),null),(!a||c&2)&&Y(o,"active",!!b[1])},i(b){a||(ne(_,b),a=!0)},o(b){ae(_,b),a=!1},d(b){b&&d(e),_&&_.d(b),t[6](null),t[7](null),b&&d(l),r=!1,bt(I)}}}function Gt(t,e,s){let{$$slots:o={},$$scope:n}=e,l,a,r,I,f=Math.floor(Math.random()*100);const _={open(E){var w,u;if(r){const{onClose:D}=r;this.close(f),D==null||D()}return s(1,r=E),I=((u=(w=r.content)==null?void 0:w[0])==null?void 0:u.parentElement)||null,++f,r.onOpen&&r.onOpen(f),f},close(E){if(!r||r!==void 0&&E!==f)return!1;const w=r;if(I)for(const u of(r==null?void 0:r.content)||[])I.appendChild(u);return I=void 0,s(1,r=void 0),++f,w.onClose&&w.onClose(),!0}};It("modal-bed",_);function b(E){r&&(r.onRequestClose?r.onRequestClose():_.close(f))}Pe(()=>{l.addEventListener("modal-close",E=>{E.stopPropagation(),f&&_.close(f)})}),mt(()=>{_.close(f)});function c(E){F[E?"unshift":"push"](()=>{a=E,s(0,a),s(1,r)})}function h(E){F[E?"unshift":"push"](()=>{l=E,s(2,l)})}return t.$$set=E=>{"$$scope"in E&&s(4,n=E.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&a&&(a.replaceChildren(...(r==null?void 0:r.content)||[]),document.body.classList.toggle("noscroll",!!(r!=null&&r.content)),r!=null&&r.content&&s(0,a.parentElement.scrollTop=0,a))},[a,r,l,b,n,o,c,h]}class Lt extends Ge{constructor(e){super(),Le(this,e,Gt,At,Se,{})}}function ut(t,e,s){const o=t.slice();return o[13]=e[s],o[14]=e,o[15]=s,o}function St(t){let e,s,o,n,l=t[13].printedLine+"",a,r,I=t[14],f=t[15];const _=()=>t[8](e,I,f),b=()=>t[8](null,I,f);return{c(){e=m("div"),s=m("img"),n=z(),a=L(l),r=z(),this.h()},l(c){e=g(c,"DIV",{class:!0});var h=y(e);s=g(h,"IMG",{class:!0,src:!0}),n=V(h),a=S(h,l),r=V(h),h.forEach(d),this.h()},h(){p(s,"class","profile svelte-1bsd2r1"),it(s.src,o=t[13].actor===t[4].GoodGuy?`${H}/good-guy.png`:`${H}/bad-guy.png`)||p(s,"src",o),p(e,"class","speech svelte-1bsd2r1"),Y(e,"hidden",t[1]<t[15]),Y(e,"good",t[13].actor===t[4].GoodGuy),Y(e,"bad",t[13].actor===t[4].BadGuy)},m(c,h){M(c,e,h),i(e,s),i(e,n),i(e,a),i(e,r),_()},p(c,h){t=c,h&1&&!it(s.src,o=t[13].actor===t[4].GoodGuy?`${H}/good-guy.png`:`${H}/bad-guy.png`)&&p(s,"src",o),h&1&&l!==(l=t[13].printedLine+"")&&Me(a,l),(I!==t[14]||f!==t[15])&&(b(),I=t[14],f=t[15],_()),h&2&&Y(e,"hidden",t[1]<t[15]),h&17&&Y(e,"good",t[13].actor===t[4].GoodGuy),h&17&&Y(e,"bad",t[13].actor===t[4].BadGuy)},d(c){c&&d(e),b()}}}function Pt(t){let e,s=t[13].printedLine+"",o,n,l=t[14],a=t[15];const r=()=>t[7](e,l,a),I=()=>t[7](null,l,a);return{c(){e=m("div"),o=L(s),n=z(),this.h()},l(f){e=g(f,"DIV",{class:!0});var _=y(e);o=S(_,s),n=V(_),_.forEach(d),this.h()},h(){p(e,"class","action svelte-1bsd2r1"),Y(e,"hidden",t[1]<t[15])},m(f,_){M(f,e,_),i(e,o),i(e,n),r()},p(f,_){t=f,_&1&&s!==(s=t[13].printedLine+"")&&Me(o,s),(l!==t[14]||a!==t[15])&&(I(),l=t[14],a=t[15],r()),_&2&&Y(e,"hidden",t[1]<t[15])},d(f){f&&d(e),I()}}}function ct(t){let e;function s(l,a){return l[13].actor===l[4].Action?Pt:St}let o=s(t),n=o(t);return{c(){n.c(),e=rt()},l(l){n.l(l),e=rt()},m(l,a){n.m(l,a),M(l,e,a)},p(l,a){o===(o=s(l))&&n?n.p(l,a):(n.d(1),n=o(l),n&&(n.c(),n.m(e.parentNode,e)))},d(l){n.d(l),l&&d(e)}}}function Mt(t){let e,s,o,n,l,a,r,I,f,_,b=t[0],c=[];for(let h=0;h<b.length;h+=1)c[h]=ct(ut(t,b,h));return{c(){e=m("div"),s=m("div"),o=m("div"),n=m("div");for(let h=0;h<c.length;h+=1)c[h].c();l=z(),a=m("div"),r=m("button"),I=L("Let's go!"),this.h()},l(h){e=g(h,"DIV",{class:!0});var E=y(e);s=g(E,"DIV",{class:!0});var w=y(s);o=g(w,"DIV",{class:!0});var u=y(o);n=g(u,"DIV",{class:!0});var D=y(n);for(let q=0;q<c.length;q+=1)c[q].l(D);D.forEach(d),l=V(u),a=g(u,"DIV",{class:!0});var A=y(a);r=g(A,"BUTTON",{class:!0});var B=y(r);I=S(B,"Let's go!"),B.forEach(d),A.forEach(d),u.forEach(d),w.forEach(d),E.forEach(d),this.h()},h(){p(n,"class","svelte-1bsd2r1"),p(r,"class","svelte-1bsd2r1"),p(a,"class","confirm svelte-1bsd2r1"),Y(a,"visible",t[1]>=t[0].length),p(o,"class","svelte-1bsd2r1"),p(s,"class","content svelte-1bsd2r1"),p(e,"class","component svelte-1bsd2r1")},m(h,E){M(h,e,E),i(e,s),i(s,o),i(o,n);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(n,null);i(o,l),i(o,a),i(a,r),i(r,I),t[9](r),t[10](e),f||(_=de(a,"click",he(gt(t[5]))),f=!0)},p(h,[E]){if(E&19){b=h[0];let w;for(w=0;w<b.length;w+=1){const u=ut(h,b,w);c[w]?c[w].p(u,E):(c[w]=ct(u),c[w].c(),c[w].m(n,null))}for(;w<c.length;w+=1)c[w].d(1);c.length=b.length}E&3&&Y(a,"visible",h[1]>=h[0].length)},i:Ae,o:Ae,d(h){h&&d(e),Et(c,h),t[9](null),t[10](null),f=!1,_()}}}const Tt=3;function Yt(t,e,s){var o=(u=>(u[u.GoodGuy=0]="GoodGuy",u[u.BadGuy=1]="BadGuy",u[u.Action=2]="Action",u))(o||{});let{script:n}=e,l=[],a=-1,r,I,f;function _(){if(a<0&&s(1,a=0),a>=0&&a<l.length){const u=l[a];u.printedLine=u.line.slice(0,u.printedLine.length+Tt),s(0,l),s(6,n),u.printedLine===u.line&&s(1,++a),a>=l.length?setTimeout(()=>f.scrollIntoView(!1)):u.el.scrollIntoView(!1)}}function b(){var u;(u=I.parentElement)==null||u.dispatchEvent(new CustomEvent("modal-close",{bubbles:!0}))}Pe(()=>{I.addEventListener("modal-open",()=>{s(1,a=-1),r||(r=setInterval(_,100));for(const u of l)u.printedLine=""}),I.addEventListener("modal-close",()=>{s(1,a=-1),r&&(clearInterval(r),r=void 0),localStorage.setItem("intro-viewed",String(Date.now()))})}),mt(()=>{r&&clearInterval(r)});function c(u,D,A){F[u?"unshift":"push"](()=>{D[A].el=u,s(0,l),s(6,n)})}function h(u,D,A){F[u?"unshift":"push"](()=>{D[A].el=u,s(0,l),s(6,n)})}function E(u){F[u?"unshift":"push"](()=>{f=u,s(3,f)})}function w(u){F[u?"unshift":"push"](()=>{I=u,s(2,I)})}return t.$$set=u=>{"script"in u&&s(6,n=u.script)},t.$$.update=()=>{t.$$.dirty&64&&s(0,l=(n||"").split(/\r?\n/).map(u=>{if(u=u.trim(),!u)return;let D=2,A="";const B=/^(.+?):\s*(.+)\s*$/.exec(u);return B?(D=B[1]!=="You"?1:0,A=B[2]):A=u,{actor:D,line:A,printedLine:""}}).filter(u=>u!==void 0))},[l,a,I,f,o,b,n,c,h,E,w]}class Bt extends Ge{constructor(e){super(),Le(this,e,Yt,Mt,Se,{script:6})}}const Ct=`[You are standing in a dark and foreboding room. A shadowy figure is sitting at a computer, typing furiously.]
Gensler: "At last, it is finished. The Puzzlebox is complete."
[You step forward, curious.]
You: "What is the Puzzlebox?"
Gensler: "It is a device of my own creation. It is a puzzle, a riddle, a challenge. But it is also much more than that. It is a weapon. A weapon that can destroy all of crypto."
You: "What? Why would you do such a thing?"
Gensler: "Because I can. Because I have the power. And because I believe that crypto is a mistake. It is a dangerous technology that will only lead to chaos and destruction. With the Puzzlebox, I can put an end to it all."
You: "But that's not fair! crypto has the potential to do so much good. It can empower people. You can't just destroy it!"
Gensler: "I can, and I will. And there is nothing you can do to stop me."
[The shadowy figure stands up and towers over you.]
Gensler: "Now, if you will excuse me, I have work to do."
[The shadowy figure turns and walks away, leaving you alone in the dark room.]
You: "No! You can't do this! I won't let you!"
[You run after the shadowy figure, but it is too late. The figure has already disappeared into the darkness.]
You: "Damn it! I have to find a way to stop him before it's too late!"
[You return to the dark room and examine the Puzzlebox. It radiates a mysterious light and you can sense odd vibrations coming from beneath its surface.]
You: "This is it. This is the Puzzlebox. Opening it must be the key to stopping him."
[After closer investigation you discover that the Puzzlebox is actually an intertwined web of smart contract challenges.]
You: "Hmm, maybe if I solve some of these challenges with a smart contract of my own making I can at least slow him down..."
`;function ft(t){let e,s=dt(t[1])+"",o;return{c(){e=m("div"),o=L(s),this.h()},l(n){e=g(n,"DIV",{class:!0});var l=y(e);o=S(l,s),l.forEach(d),this.h()},h(){p(e,"class","countdown svelte-yio057")},m(n,l){M(n,e,l),i(e,o)},p(n,l){l&2&&s!==(s=dt(n[1])+"")&&Me(o,s)},d(n){n&&d(e)}}}function $t(t){let e,s;return e=new Bt({props:{script:Ct}}),{c(){Te(e.$$.fragment)},l(o){Ye(e.$$.fragment,o)},m(o,n){Be(e,o,n),s=!0},p:Ae,i(o){s||(ne(e.$$.fragment,o),s=!0)},o(o){ae(e.$$.fragment,o),s=!1},d(o){Ce(e,o)}}}function Nt(t){let e,s,o,n,l,a,r,I,f,_,b,c,h,E,w,u,D,A,B,q,U,J,pe,ve,K,Q,_e,me,Z,X,ge,re,W,ie,T,N,x,j,ye,be,ee,O,Ie,Ee,ue,te,R,we,ce,$,ke,se,De,$e;const ze=t[2].default,P=ht(ze,t,t[5],null);let G=t[1]>0&&ft(t);function yt(v){t[4](v)}let Ne={$$slots:{default:[$t]},$$scope:{ctx:t}};return t[0]!==void 0&&(Ne.show=t[0]),$=new zt({props:Ne}),F.push(()=>kt($,"show",yt)),{c(){e=m("header"),s=m("div"),o=m("a"),n=L("Puzzlebox"),l=m("span"),a=L(".sol"),r=z(),I=m("div"),f=m("a"),_=L("A CTF from Dragonfly"),b=z(),c=m("div"),h=m("div"),E=m("a"),w=L("intro"),u=z(),D=m("div"),A=m("a"),B=L("scores"),q=z(),U=m("div"),J=m("a"),pe=L("github"),ve=z(),K=m("div"),Q=m("a"),_e=L("support"),me=z(),Z=m("div"),X=m("a"),ge=L("jobs"),re=z(),W=m("main"),P&&P.c(),ie=z(),T=m("footer"),N=m("div"),x=m("span"),j=m("a"),ye=L("Privacy"),be=z(),ee=m("span"),O=m("a"),Ie=L("Rules"),Ee=z(),G&&G.c(),ue=z(),te=m("div"),R=m("a"),we=L(">|<"),ce=z(),Te($.$$.fragment),this.h()},l(v){e=g(v,"HEADER",{class:!0});var k=y(e);s=g(k,"DIV",{class:!0});var oe=y(s);o=g(oe,"A",{class:!0,href:!0});var Ve=y(o);n=S(Ve,"Puzzlebox"),l=g(Ve,"SPAN",{class:!0});var je=y(l);a=S(je,".sol"),je.forEach(d),Ve.forEach(d),oe.forEach(d),r=V(k),I=g(k,"DIV",{class:!0});var Oe=y(I);f=g(Oe,"A",{href:!0,class:!0});var Re=y(f);_=S(Re,"A CTF from Dragonfly"),Re.forEach(d),Oe.forEach(d),b=V(k),c=g(k,"DIV",{class:!0});var C=y(c);h=g(C,"DIV",{class:!0});var qe=y(h);E=g(qe,"A",{});var We=y(E);w=S(We,"intro"),We.forEach(d),qe.forEach(d),u=V(C),D=g(C,"DIV",{class:!0});var Fe=y(D);A=g(Fe,"A",{href:!0});var He=y(A);B=S(He,"scores"),He.forEach(d),Fe.forEach(d),q=V(C),U=g(C,"DIV",{class:!0});var Ue=y(U);J=g(Ue,"A",{href:!0});var Je=y(J);pe=S(Je,"github"),Je.forEach(d),Ue.forEach(d),ve=V(C),K=g(C,"DIV",{class:!0});var Ke=y(K);Q=g(Ke,"A",{href:!0});var Qe=y(Q);_e=S(Qe,"support"),Qe.forEach(d),Ke.forEach(d),me=V(C),Z=g(C,"DIV",{class:!0});var Ze=y(Z);X=g(Ze,"A",{href:!0});var Xe=y(X);ge=S(Xe,"jobs"),Xe.forEach(d),Ze.forEach(d),C.forEach(d),k.forEach(d),re=V(v),W=g(v,"MAIN",{class:!0});var xe=y(W);P&&P.l(xe),xe.forEach(d),ie=V(v),T=g(v,"FOOTER",{class:!0});var le=y(T);N=g(le,"DIV",{class:!0});var fe=y(N);x=g(fe,"SPAN",{class:!0});var et=y(x);j=g(et,"A",{href:!0,target:!0,class:!0});var tt=y(j);ye=S(tt,"Privacy"),tt.forEach(d),et.forEach(d),be=V(fe),ee=g(fe,"SPAN",{class:!0});var st=y(ee);O=g(st,"A",{href:!0,target:!0,class:!0});var ot=y(O);Ie=S(ot,"Rules"),ot.forEach(d),st.forEach(d),fe.forEach(d),Ee=V(le),G&&G.l(le),ue=V(le),te=g(le,"DIV",{class:!0});var lt=y(te);R=g(lt,"A",{class:!0,href:!0,target:!0});var nt=y(R);we=S(nt,">|<"),nt.forEach(d),lt.forEach(d),le.forEach(d),ce=V(v),Ye($.$$.fragment,v),this.h()},h(){p(l,"class","ext svelte-yio057"),p(o,"class","text svelte-yio057"),p(o,"href",H),p(s,"class","banner svelte-yio057"),p(f,"href","https://www.dragonfly.xyz/"),p(f,"class","svelte-yio057"),p(I,"class","subbanner svelte-yio057"),p(h,"class","svelte-yio057"),p(A,"href","scores"),p(D,"class","svelte-yio057"),p(J,"href","https://github.com/dragonfly-xyz/puzzlebox-ctf"),p(U,"class","svelte-yio057"),p(Q,"href","https://t.me/+L09goZAIgYkzMmYx"),p(K,"class","svelte-yio057"),p(X,"href","https://jobs.dragonfly.xyz/jobs"),p(Z,"class","svelte-yio057"),p(c,"class","quick-links svelte-yio057"),p(e,"class","svelte-yio057"),p(W,"class","container svelte-yio057"),p(j,"href",`${H}/privacy`),p(j,"target","_blank"),p(j,"class","svelte-yio057"),p(x,"class","svelte-yio057"),p(O,"href",`${H}/rules`),p(O,"target","_blank"),p(O,"class","svelte-yio057"),p(ee,"class","svelte-yio057"),p(N,"class","terms svelte-yio057"),p(R,"class","logo svelte-yio057"),p(R,"href","https://dragonfly.xyz"),p(R,"target","_blank"),p(te,"class","company svelte-yio057"),p(T,"class","svelte-yio057")},m(v,k){M(v,e,k),i(e,s),i(s,o),i(o,n),i(o,l),i(l,a),i(e,r),i(e,I),i(I,f),i(f,_),i(e,b),i(e,c),i(c,h),i(h,E),i(E,w),i(c,u),i(c,D),i(D,A),i(A,B),i(c,q),i(c,U),i(U,J),i(J,pe),i(c,ve),i(c,K),i(K,Q),i(Q,_e),i(c,me),i(c,Z),i(Z,X),i(X,ge),M(v,re,k),M(v,W,k),P&&P.m(W,null),M(v,ie,k),M(v,T,k),i(T,N),i(N,x),i(x,j),i(j,ye),i(N,be),i(N,ee),i(ee,O),i(O,Ie),i(T,Ee),G&&G.m(T,null),i(T,ue),i(T,te),i(te,R),i(R,we),M(v,ce,k),Be($,v,k),se=!0,De||($e=de(E,"click",he(gt(t[3]))),De=!0)},p(v,k){P&&P.p&&(!se||k&32)&&pt(P,ze,v,v[5],se?_t(ze,v[5],k,null):vt(v[5]),null),v[1]>0?G?G.p(v,k):(G=ft(v),G.c(),G.m(T,ue)):G&&(G.d(1),G=null);const oe={};k&32&&(oe.$$scope={dirty:k,ctx:v}),!ke&&k&1&&(ke=!0,oe.show=v[0],Dt(()=>ke=!1)),$.$set(oe)},i(v){se||(ne(P,v),ne($.$$.fragment,v),se=!0)},o(v){ae(P,v),ae($.$$.fragment,v),se=!1},d(v){v&&d(e),v&&d(re),v&&d(W),P&&P.d(v),v&&d(ie),v&&d(T),G&&G.d(),v&&d(ce),Ce($,v),De=!1,$e()}}}function jt(t){let e,s;return e=new Lt({props:{$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},l(o){Ye(e.$$.fragment,o)},m(o,n){Be(e,o,n),s=!0},p(o,[n]){const l={};n&35&&(l.$$scope={dirty:n,ctx:o}),e.$set(l)},i(o){s||(ne(e.$$.fragment,o),s=!0)},o(o){ae(e.$$.fragment,o),s=!1},d(o){Ce(e,o)}}}function dt(t){const e=Math.floor(t%60);t/=60;const s=Math.floor(t%60);t/=60;const o=Math.floor(t%24);return t/=24,[`${Math.floor(t).toString().padStart(2,"0")}`,`${o.toString().padStart(2,"0")}`,`${s.toString().padStart(2,"0")}`,`${e.toString().padStart(2,"0")}`].join(":")}function Ot(t,e,s){let o;wt(t,Vt,f=>s(1,o=f));let{$$slots:n={},$$scope:l}=e,a=!1;Pe(()=>{setTimeout(()=>{if(!a){const f=localStorage.getItem("intro-viewed");s(0,a=!f)}},1e3)});const r=()=>s(0,a=!0);function I(f){a=f,s(0,a)}return t.$$set=f=>{"$$scope"in f&&s(5,l=f.$$scope)},[a,o,n,r,I,l]}class Ft extends Ge{constructor(e){super(),Le(this,e,Ot,jt,Se,{})}}export{Ft as default};
